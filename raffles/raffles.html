<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Browse and enter our latest raffles for a chance to win amazing prizes">
    <title>Current Raffles - Raffle Master</title>
    <link rel="stylesheet" href="/css/root.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/components/header.css">
    <link rel="stylesheet" href="/css/components/footer.css">
    <link rel="stylesheet" href="/css/components/prize-card.css">
    <link rel="stylesheet" href="/css/components/modal.css">
    <link rel="stylesheet" href="/css/components/animation.css">
</head>
<body>
    <header class="site-header">
        <div class="logo">
            <img src="/assets/images/RaffleLogo.png" alt="Raffle Master Logo">
            <a href="/">Raffle Master</a>
        </div>
        <nav class="desktop-nav">
            <ul>
                <li><a href="/" class="nav-link">Home</a></li>
                <li><a href="/raffles/raffles.html" class="nav-link active">Raffles</a></li>
                <li><a href="/winners.html" class="nav-link">Winners</a></li>
                <li><a href="/how-it-works.html" class="nav-link">How It Works</a></li>
                <li><a href="/cart.html" class="nav-link cart-link">Cart <span class="cart-count">0</span></a></li>
            </ul>
        </nav>
        <button class="menu-toggle" aria-label="Toggle Menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <nav class="mobile-nav">
            <ul>
                <li><a href="/" class="nav-link">Home</a></li>
                <li><a href="/raffles/raffles.html" class="nav-link active">Raffles</a></li>
                <li><a href="/winners.html" class="nav-link">Winners</a></li>
                <li><a href="/how-it-works.html" class="nav-link">How It Works</a></li>
                <li><a href="/cart.html" class="nav-link cart-link">Cart <span class="cart-count">0</span></a></li>
            </ul>
        </nav>
    </header>

    <main class="raffles-page">
        <section class="page-header">
            <div class="container">
                <h1>Current Raffles</h1>
                <div class="sort-options">
                    <select id="sort-select" class="sort-select">
                        <option value="ending-soon">Ending Soon</option>
                        <option value="newest">Newest</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                    </select>
                </div>
            </div>
        </section>

        <section class="raffles-grid">
            <div class="container">
                <div class="raffle-grid">
                    <!-- iPhone 15 Prize Card -->
                    <div class="prize-card tilt" data-product-id="iphone15">
                        <img src="/assets/images/iphone15.jpg" alt="iPhone 15 Pro" loading="lazy">
                        <div class="prize-meta">
                            <span class="prize-category">Tech</span>
                            <span class="prize-tickets">60% Sold</span>
                        </div>
                        <h3>iPhone 15 Pro</h3>
                        <p class="price">R10 per ticket</p>
                        <div class="countdown-timer" data-end-time="2025-04-20T20:00:00Z"></div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 60%;"></div>
                        </div>
                        <a href="#" class="cta-button">Enter Now</a>
                    </div>

                    <!-- MacBook Pro Prize Card -->
                    <div class="prize-card tilt" data-product-id="macbook">
                        <img src="/assets/images/macbook-pro.jpg" alt="MacBook Pro" loading="lazy">
                        <div class="prize-meta">
                            <span class="prize-category">Tech</span>
                            <span class="prize-tickets">80% Sold</span>
                        </div>
                        <h3>MacBook Pro</h3>
                        <p class="price">R20 per ticket</p>
                        <div class="countdown-timer" data-end-time="2025-04-20T20:00:00Z"></div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 80%;"></div>
                        </div>
                        <a href="#" class="cta-button">Enter Now</a>
                    </div>

                    <!-- Tesla Model S Prize Card -->
                    <div class="prize-card tilt" data-product-id="tesla">
                        <img src="/assets/images/tesla.jpg" alt="Tesla Model S" loading="lazy">
                        <div class="prize-meta">
                            <span class="prize-category">Auto</span>
                            <span class="prize-tickets">30% Sold</span>
                        </div>
                        <h3>Tesla Model S</h3>
                        <p class="price">R50 per ticket</p>
                        <div class="countdown-timer" data-end-time="2025-05-15T20:00:00Z"></div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 30%;"></div>
                        </div>
                        <a href="#" class="cta-button">Enter Now</a>
                    </div>

                    <!-- Rolex Submariner Prize Card -->
                    <div class="prize-card tilt" data-product-id="rolex">
                        <img src="/assets/images/rolex.jpg" alt="Rolex Submariner" loading="lazy">
                        <div class="prize-meta">
                            <span class="prize-category">Luxury</span>
                            <span class="prize-tickets">85% Sold</span>
                        </div>
                        <h3>Rolex Submariner</h3>
                        <p class="price">R30 per ticket</p>
                        <div class="countdown-timer" data-end-time="2025-05-01T20:00:00Z"></div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 85%;"></div>
                        </div>
                        <a href="#" class="cta-button">Enter Now</a>
                    </div>

                    <!-- PlayStation 5 Bundle Prize Card -->
                    <div class="prize-card tilt" data-product-id="ps5">
                        <img src="/assets/images/ps5.jpg" alt="PlayStation 5 Bundle" loading="lazy">
                        <div class="prize-meta">
                            <span class="prize-category">Gaming</span>
                            <span class="prize-tickets">70% Sold</span>
                        </div>
                        <h3>PlayStation 5 Bundle</h3>
                        <p class="price">R15 per ticket</p>
                        <div class="countdown-timer" data-end-time="2025-04-25T20:00:00Z"></div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 70%;"></div>
                        </div>
                        <a href="#" class="cta-button">Enter Now</a>
                    </div>

                    <!-- Coming Soon Card -->
                    <div class="prize-card tilt coming-soon">
                        <div class="coming-soon-content">
                            <h3>Coming Soon</h3>
                            <p>New prizes added weekly</p>
                            <span class="notification-hint">Get notified when new prizes are added</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="footer-grid">
            <div class="footer-column">
                <h4>Raffle Master</h4>
                <p>Making dreams come true, one raffle at a time.</p>
            </div>
            <div class="footer-column">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/winners.html">Winners</a></li>
                    <li><a href="/how-it-works.html">How It Works</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Legal</h4>
                <ul>
                    <li><a href="#">Terms & Conditions</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Cookie Policy</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Contact</h4>
                <ul>
                    <li>Email: support@rafflemaster.com</li>
                    <li>Phone: 01234 567890</li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2024 Raffle Master. All rights reserved.</p>
        </div>
    </footer>

    <!-- Ticket Purchase Modal -->
    <div class="modal-container" id="ticket-modal">
        <div class="modal">
            <button class="modal-close">&times;</button>
            <h2>Select Tickets</h2>
            <div class="ticket-selector">
                <button class="ticket-btn" data-quantity="1">1</button>
                <button class="ticket-btn" data-quantity="5">5</button>
                <button class="ticket-btn" data-quantity="10">10</button>
                <button class="ticket-btn" data-quantity="20">20</button>
                <button class="ticket-btn" data-quantity="50">50</button>
                <div class="custom-quantity">
                    <label for="custom-ticket-amount">Custom:</label>
                    <input type="number" id="custom-ticket-amount" min="1" max="100" value="1">
                </div>
            </div>
            <div class="ticket-summary">
                <p>Total: <span class="ticket-total">R0</span></p>
            </div>
            <button class="cta-button add-to-cart-btn">Add to Cart</button>
        </div>
    </div>

    <script src="/js/countdown.js"></script>
    <script src="/js/modal.js"></script>
    <script src="/js/header.js"></script>
    <script src="/js/product-modal.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize countdown timers
            const countdownElements = document.querySelectorAll('.countdown-timer');
            countdownElements.forEach(element => {
                const endTime = element.dataset.endTime;
                startCountdown(element, endTime);
            });

            // Sort functionality
            const sortSelect = document.getElementById('sort-select');
            const raffleGrid = document.querySelector('.raffle-grid');
            
            sortSelect.addEventListener('change', function() {
                const cards = Array.from(document.querySelectorAll('.prize-card:not(.coming-soon)'));
                const sortValue = this.value;
                
                cards.sort((a, b) => {
                    switch(sortValue) {
                        case 'ending-soon':
                            const timeA = a.querySelector('.countdown-timer').dataset.endTime;
                            const timeB = b.querySelector('.countdown-timer').dataset.endTime;
                            return new Date(timeA) - new Date(timeB);
                        case 'newest':
                            return b.dataset.productId.localeCompare(a.dataset.productId);
                        case 'price-low':
                            const priceA = parseInt(a.querySelector('.price').textContent.match(/\d+/)[0]);
                            const priceB = parseInt(b.querySelector('.price').textContent.match(/\d+/)[0]);
                            return priceA - priceB;
                        case 'price-high':
                            const priceHighA = parseInt(a.querySelector('.price').textContent.match(/\d+/)[0]);
                            const priceHighB = parseInt(b.querySelector('.price').textContent.match(/\d+/)[0]);
                            return priceHighB - priceHighA;
                    }
                });

                // Remove existing cards
                cards.forEach(card => card.remove());
                
                // Add sorted cards back
                const comingSoon = raffleGrid.querySelector('.coming-soon');
                cards.forEach(card => raffleGrid.insertBefore(card, comingSoon));
            });

            // Initialize tilt effect
            const cards = document.querySelectorAll('.prize-card');
            cards.forEach(card => {
                card.addEventListener('mousemove', handleTilt);
                card.addEventListener('mouseleave', resetTilt);
            });

            function handleTilt(e) {
                const card = this;
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                
                const rotateX = (y - centerY) / 20;
                const rotateY = (centerX - x) / 20;
                
                card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.02, 1.02, 1.02)`;
            }

            function resetTilt() {
                this.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)';
            }
        });
    </script>
</body>
</html> 