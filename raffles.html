<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Raffles - Raffle Master</title>
    <link rel="stylesheet" href="css/root.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components/header.css">
    <link rel="stylesheet" href="css/components/footer.css">
    <link rel="stylesheet" href="css/components/prize-card.css">
    <link rel="stylesheet" href="css/components/animation.css">
    <link rel="stylesheet" href="css/components/raffles.css">
</head>
<body>
    <!-- Header component -->
    <header class="site-header">
        <div class="logo">
            <a href="/">
                <img src="assets/images/RaffleLogo.png" alt="Raffle Master Logo">
                <span>Raffle Master</span>
            </a>
        </div>
        <nav class="desktop-nav">
            <ul>
                <li><a href="/" class="nav-link">Home</a></li>
                <li><a href="raffles.html" class="nav-link active">Raffles</a></li>
                <li><a href="winners.html" class="nav-link">Winners</a></li>
                <li><a href="how-it-works.html" class="nav-link">How It Works</a></li>
                <li><a href="cart.html" class="nav-link cart-link">Cart <span class="cart-count">0</span></a></li>
            </ul>
        </nav>
        <button class="menu-toggle" aria-label="Toggle Menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <nav class="mobile-nav">
            <ul>
                <li><a href="/" class="nav-link">Home</a></li>
                <li><a href="raffles.html" class="nav-link active">Raffles</a></li>
                <li><a href="winners.html" class="nav-link">Winners</a></li>
                <li><a href="how-it-works.html" class="nav-link">How It Works</a></li>
                <li><a href="cart.html" class="nav-link cart-link">Cart <span class="cart-count">0</span></a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Raffles Hero -->
        <section class="raffles-hero">
            <div class="container">
                <h1 class="gradient-text">Current Raffles</h1>
                <p class="hero-subtitle">Find your dream prize</p>
                
                <!-- Category Filters -->
                <div class="category-filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="tech">Tech</button>
                    <button class="filter-btn" data-filter="auto">Auto</button>
                    <button class="filter-btn" data-filter="holidays">Holidays</button>
                    <button class="filter-btn" data-filter="luxury">Luxury</button>
                </div>
                
                <!-- Simplified Sort Options -->
                <div class="sort-container">
                    <select id="sort-select" class="sort-select">
                        <option value="ending-soon">Ending Soon</option>
                        <option value="newest">Newest</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                    </select>
                </div>
            </div>
        </section>
        
        <!-- Raffles Grid -->
        <section class="raffles-grid-section">
            <div class="container">
                <div class="raffle-grid fade-in-grid">
                    <!-- iPhone 15 Prize Card -->
                    <div class="prize-card tilt" data-product-id="iphone15" data-category="tech">
                        <img src="assets/images/iphone15.jpg" alt="iPhone 15 Pro">
                        <div class="prize-meta">
                            <span class="prize-tickets">487 tickets left</span>
                        </div>
                        <h3>iPhone 15 Pro</h3>
                        <p class="price">R10 per ticket</p>
                        <div class="countdown-timer" data-end-time="2025-04-20T20:00:00Z"></div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 60%;"></div>
                            <span class="progress-text">60% Sold</span>
                        </div>
                        <a href="#iphone15" class="cta-button">Buy Ticket</a>
                    </div>
                    
                    <!-- MacBook Pro Prize Card -->
                    <div class="prize-card tilt" data-product-id="macbook" data-category="tech">
                        <img src="assets/images/macbook-pro.jpg" alt="MacBook Pro">
                        <div class="prize-meta">
                            <span class="prize-tickets">342 tickets left</span>
                        </div>
                        <h3>MacBook Pro</h3>
                        <p class="price">R20 per ticket</p>
                        <div class="countdown-timer" data-end-time="2025-04-20T20:00:00Z"></div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 80%;"></div>
                            <span class="progress-text">80% Sold</span>
                        </div>
                        <a href="#macbook" class="cta-button">Buy Ticket</a>
                    </div>
                    
                    <!-- Holiday Prize Card -->
                    <div class="prize-card tilt" data-product-id="holiday" data-category="holidays">
                        <img src="assets/images/holiday1.jpg" alt="Luxury Holiday">
                        <div class="prize-meta">
                            <span class="prize-tickets">250 tickets left</span>
                        </div>
                        <h3>Luxury Holiday</h3>
                        <p class="price">R15 per ticket</p>
                        <div class="countdown-timer" data-end-time="2025-05-15T20:00:00Z"></div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 40%;"></div>
                            <span class="progress-text">40% Sold</span>
                        </div>
                        <a href="#holiday" class="cta-button">Buy Ticket</a>
                    </div>
                    
                    <!-- Tesla Model S Prize Card -->
                    <div class="prize-card tilt" data-category="auto">
                        <img src="assets/images/tesla.jpg" alt="Tesla Model S">
                        <div class="prize-meta">
                            <span class="prize-tickets">982 tickets left</span>
                        </div>
                        <h3>Tesla Model S</h3>
                        <p class="price">R20 per ticket</p>
                        <div class="countdown-timer" data-end-time="2025-05-15T20:00:00Z"></div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 30%;"></div>
                            <span class="progress-text">30% Sold</span>
                        </div>
                        <a href="#tesla" class="cta-button">Buy Ticket</a>
                    </div>
                    
                    <!-- Rolex Submariner Prize Card -->
                    <div class="prize-card tilt" data-category="holidays">
                        <img src="assets/images/rolex.jpg" alt="Rolex Watch">
                        <div class="prize-meta">
                            <span class="prize-tickets">126 tickets left</span>
                        </div>
                        <h3>Rolex Submariner</h3>
                        <p class="price">R15 per ticket</p>
                        <div class="countdown-timer" data-end-time="2025-04-30T18:00:00Z"></div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 85%;"></div>
                            <span class="progress-text">85% Sold</span>
                        </div>
                        <a href="#rolex" class="cta-button">Buy Ticket</a>
                    </div>
                    
                    <!-- PlayStation 5 Bundle Prize Card -->
                    <div class="prize-card tilt" data-category="holidays">
                        <img src="assets/images/ps5.jpg" alt="PlayStation 5">
                        <div class="prize-meta">
                            <span class="prize-tickets">209 tickets left</span>
                        </div>
                        <h3>PlayStation 5 Bundle</h3>
                        <p class="price">R5 per ticket</p>
                        <div class="countdown-timer" data-end-time="2025-04-25T18:00:00Z"></div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" style="width: 70%;"></div>
                            <span class="progress-text">70% Sold</span>
                        </div>
                        <a href="#ps5" class="cta-button">Buy Ticket</a>
                    </div>
                    
                    <!-- Coming Soon Card -->
                    <div class="prize-card coming-soon">
                        <h3>More Prizes Coming Soon</h3>
                        <p>New raffles added weekly. Stay tuned!</p>
                    </div>
                </div>
                
                <!-- Pagination -->
                <div class="pagination">
                    <button class="pagination-btn active">1</button>
                    <button class="pagination-btn">2</button>
                    <button class="pagination-btn">3</button>
                    <span class="pagination-ellipsis">...</span>
                    <button class="pagination-btn">10</button>
                </div>
            </div>
        </section>
        
        <!-- Newsletter Section -->
        <section class="newsletter-section">
            <div class="container">
                <div class="newsletter-card">
                    <div class="newsletter-content">
                        <h2>Never Miss a Raffle</h2>
                        <p>Subscribe to our newsletter and be the first to know about new raffles, exclusive discounts, and winner announcements.</p>
                        <form class="newsletter-form-large">
                            <input type="email" placeholder="Your email address" required>
                            <button type="submit">Subscribe</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer component -->
    <footer class="site-footer">
        <div class="footer-bg-element footer-bg-element-1"></div>
        <div class="footer-bg-element footer-bg-element-2"></div>
        
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h4>Raffle Master</h4>
                    <p>Making dreams come true, one raffle at a time.</p>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="Facebook">
                            <i class="social-icon">f</i>
                        </a>
                        <a href="#" class="social-link" aria-label="Twitter">
                            <i class="social-icon">t</i>
                        </a>
                        <a href="#" class="social-link" aria-label="Instagram">
                            <i class="social-icon">i</i>
                        </a>
                    </div>
                </div>
                <div class="footer-column">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="raffles.html">Raffles</a></li>
                        <li><a href="winners.html">Winners</a></li>
                        <li><a href="how-it-works.html">How It Works</a></li>
                        <li><a href="cart.html">Cart</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="#">Terms & Conditions</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Cookie Policy</a></li>
                        <li><a href="#">Raffle Rules</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Newsletter</h4>
                    <p>Stay updated with our latest raffles and winners.</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Your email" required>
                        <button type="submit">→</button>
                    </form>
                </div>
            </div>
            <div class="copyright">
                <p>© 2023 Raffle Master. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/countdown.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/product-modal.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Filter functionality
            const filterButtons = document.querySelectorAll('.filter-btn');
            const prizeCards = document.querySelectorAll('.prize-card');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove active class from all buttons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    button.classList.add('active');
                    
                    // Get filter value
                    const filter = button.dataset.filter;
                    
                    // Filter cards
                    prizeCards.forEach(card => {
                        if (filter === 'all' || card.dataset.category === filter || card.classList.contains('coming-soon')) {
                            card.style.display = 'flex';
                            setTimeout(() => {
                                card.style.opacity = '1';
                                card.style.transform = 'translateY(0)';
                            }, 50);
                        } else {
                            card.style.opacity = '0';
                            card.style.transform = 'translateY(20px)';
                            setTimeout(() => {
                                card.style.display = 'none';
                            }, 300);
                        }
                    });
                });
            });
            
            // Sort functionality
            const sortSelect = document.getElementById('sort-select');
            
            if (sortSelect) {
                sortSelect.addEventListener('change', () => {
                    const sortValue = sortSelect.value;
                    const raffleGrid = document.querySelector('.raffle-grid');
                    
                    // Get cards as array for sorting
                    const cardsArray = Array.from(prizeCards);
                    
                    // Sort cards
                    cardsArray.sort((a, b) => {
                        // Skip the "coming soon" card - always keep it at the end
                        if (a.classList.contains('coming-soon')) return 1;
                        if (b.classList.contains('coming-soon')) return -1;
                        
                        if (sortValue === 'ending-soon') {
                            // Sort by countdown time
                            const aTime = a.querySelector('.countdown-timer')?.dataset.endTime || '';
                            const bTime = b.querySelector('.countdown-timer')?.dataset.endTime || '';
                            return new Date(aTime) - new Date(bTime);
                        } else if (sortValue === 'newest') {
                            // For demo, we'll just reverse the current order
                            return -1;
                        } else if (sortValue === 'price-low') {
                            // Sort by price low to high
                            const aPrice = parseFloat(a.querySelector('.price')?.textContent.replace(/[^0-9.]/g, '') || 0);
                            const bPrice = parseFloat(b.querySelector('.price')?.textContent.replace(/[^0-9.]/g, '') || 0);
                            return aPrice - bPrice;
                        } else if (sortValue === 'price-high') {
                            // Sort by price high to low
                            const aPrice = parseFloat(a.querySelector('.price')?.textContent.replace(/[^0-9.]/g, '') || 0);
                            const bPrice = parseFloat(b.querySelector('.price')?.textContent.replace(/[^0-9.]/g, '') || 0);
                            return bPrice - aPrice;
                        }
                        return 0;
                    });
                    
                    // Reappend cards in new order
                    cardsArray.forEach(card => {
                        raffleGrid.appendChild(card);
                    });
                });
            }
            
            // Update cart count
            const cartCount = document.querySelector('.cart-count');
            if (cartCount) {
                const cart = JSON.parse(localStorage.getItem('raffle-cart') || '[]');
                cartCount.textContent = cart.length;
            }
        });
    </script>
</body>
</html>
